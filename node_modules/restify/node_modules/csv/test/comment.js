// Generated by CoffeeScript 1.7.1

/*
Test CSV - Copyright David Worms <open@adaltas.com> (BSD Licensed)
 */

(function() {
  var csv, fs, should;

  fs = require('fs');

  should = require('should');

  csv = process.env.CSV_COV ? require('../lib-cov') : require('../src');

  describe('comment', function() {
    it('skip line starting by # by default', function(next) {
      return csv().from.string("# skip this\n\"ABC\",\"45\"\n\"DEF\",\"23\"\n# and this\n\"GHI\",\"94\"\n# as well as that", {
        comment: '#'
      }).to.string(function(result) {
        result.should.eql("ABC,45\nDEF,23\nGHI,94");
        return next();
      });
    });
    it('doent apply inside quotes', function(next) {
      return csv().from.string("\"ABC\",\"45\"\n\"D#noEF\",\"23\"#yes\n\"GHI\",\"94\"", {
        comment: '#'
      }).to.string(function(result) {
        result.should.eql("ABC,45\nD#noEF,23\nGHI,94");
        return next();
      });
    });
    it('is cancel if empty', function(next) {
      return csv().from.string("abc,#,def\n1,2,3", {
        comment: ''
      }).to.string(function(result) {
        result.should.eql("abc,#,def\n1,2,3");
        return next();
      });
    });
    return it('is cancel by default', function(next) {
      return csv().from.string("abc,#,def\n1,2,3").to.string(function(result) {
        result.should.eql("abc,#,def\n1,2,3");
        return next();
      });
    });
  });

}).call(this);

//# sourceMappingURL=comment.map
